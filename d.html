<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.min.js"></script>
</head>

<body>
    <img id="image" src="path/to/your/image.jpg" />
    <canvas id="croppedCanvas"></canvas>
    <button id="cropButton">Crop Image</button>
    <script>
        var image = document.getElementById('image');
        var cropper = new Cropper(image, {
            aspectRatio: 16 / 9,
            crop: function (e) {
                // update the cropped canvas on each crop change
                var canvas = document.getElementById('croppedCanvas');
                var ctx = canvas.getContext('2d');
                canvas.width = e.detail.width;
                canvas.height = e.detail.height;
                ctx.drawImage(image, e.detail.x, e.detail.y, e.detail.width, e.detail.height, 0, 0, canvas.width, canvas.height);
            }
        });
        document.getElementById('cropButton').addEventListener('click', function () {
            // when the crop button is clicked, send the cropped image to the server
            var canvas = cropper.getCroppedCanvas();
            canvas.toBlob(function (blob) {
                var formData = new FormData();
                formData.append('croppedImage', blob);
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/crop');
                xhr.onload = function () {
                    if (xhr.status === 200) {
                        console.log('Image cropped and uploaded');
                    } else {
                        console.log('Image cropping and upload failed');
                    }
                };
                xhr.send(formData);
            });
        });
    </script>
</body>